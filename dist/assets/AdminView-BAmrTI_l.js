import{d as V,r as m,k as P,c as l,a as t,b as j,w as r,v as u,l as S,F as A,i as $,h as E,u as U,t as _,o as d,_ as D}from"./index-Bpd1Qgob.js";import{u as B}from"./userStore-MTQMhzZ6.js";const L={class:"admin-container"},F={key:0,class:"password-modal"},K={class:"password-modal-content"},T={class:"password-form"},M={key:0,class:"error-message"},R={key:1},q={class:"nav-tabs"},z={class:"admin-content"},G={class:"points-adjust-section"},H={class:"adjust-form"},J={class:"form-group"},O={class:"exchange-items-section"},Q={class:"exchange-items-list"},W={class:"item-info"},X={class:"item-price"},Y={class:"item-actions"},Z=["onClick"],tt=["onClick"],et={class:"add-exchange-form"},st={class:"form-grid"},ot={class:"form-group"},nt={class:"form-group"},it={class:"form-group full-width"},at=V({__name:"AdminView",setup(lt){const h=U(),a=B(),i=m("");function v(o){h.push(o)}const f=m(!1),p=m(""),b=m(!1),n=P({name:"",points:0,description:""});function w(){p.value==="379487"?(f.value=!0,b.value=!1,localStorage.setItem("adminVerified","true")):(b.value=!0,p.value="")}const I=o=>{const e=prompt("è¯·è¾“å…¥æ–°çš„åç§°ï¼š",o.name),s=prompt("è¯·è¾“å…¥æ–°çš„ç§¯åˆ†æ•°é‡ï¼š",o.points.toString()),c=prompt("è¯·è¾“å…¥æ–°çš„æè¿°ï¼š",o.description);if(e&&s&&c){const g=parseInt(s);!isNaN(g)&&g>0?a.updateExchangeItem(o.id,e,g,c):alert("è¯·è¾“å…¥æœ‰æ•ˆçš„ç§¯åˆ†æ•°é‡")}};function k(){if(i.value&&!isNaN(Number(i.value))){const o=Number(i.value);o>0?(a.adjustPoints(o),i.value="",alert(`æˆåŠŸå¢åŠ  ${o} ç§¯åˆ†`)):alert("è¯·è¾“å…¥æ­£æ•°")}else alert("è¯·è¾“å…¥æœ‰æ•ˆçš„ç§¯åˆ†æ•°é‡")}function x(){if(i.value&&!isNaN(Number(i.value))){const o=-Number(i.value);o<0?a.currentPoints+o>=0?(a.adjustPoints(o),i.value="",alert(`æˆåŠŸå‡å°‘ ${-o} ç§¯åˆ†`)):alert("ç§¯åˆ†ä¸è¶³ï¼Œæ— æ³•å‡å°‘"):alert("è¯·è¾“å…¥æ­£æ•°")}else alert("è¯·è¾“å…¥æœ‰æ•ˆçš„ç§¯åˆ†æ•°é‡")}function N(){n.name&&n.points>0&&n.description?(a.addExchangeItem(n.name,n.points,n.description),n.name="",n.points=0,n.description="",alert("å…‘æ¢é¡¹æ·»åŠ æˆåŠŸ")):alert("è¯·å¡«å†™å®Œæ•´çš„å…‘æ¢é¡¹ä¿¡æ¯")}function y(o){confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå…‘æ¢é¡¹å—ï¼Ÿ")&&(a.removeExchangeItem(o),alert("å…‘æ¢é¡¹å·²åˆ é™¤"))}function C(){a.logout(),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("adminVerified"),h.push("/")}return localStorage.getItem("adminVerified")==="true"&&(f.value=!0),(o,e)=>(d(),l("div",L,[f.value?(d(),l("div",R,[e[17]||(e[17]=t("div",{class:"decorations"},[t("div",{class:"decoration heart"}),t("div",{class:"decoration star"})],-1)),t("header",{class:"admin-header"},[e[9]||(e[9]=t("h1",null,"ç®¡ç†ä¸­å¿ƒ ğŸ‘‘",-1)),t("div",{class:"logout-btn",onClick:C},"é€€å‡ºç™»å½•")]),t("div",q,[t("button",{class:"tab-btn",onClick:e[1]||(e[1]=s=>v("/tasks"))},"ä»»åŠ¡"),t("button",{class:"tab-btn",onClick:e[2]||(e[2]=s=>v("/points"))},"ç§¯åˆ†"),t("button",{class:"tab-btn active",onClick:e[3]||(e[3]=s=>v("/admin"))},"ç®¡ç†")]),t("div",z,[t("div",G,[e[11]||(e[11]=t("h2",null,"ç§¯åˆ†è°ƒæ•´",-1)),t("div",H,[t("div",J,[e[10]||(e[10]=t("label",{for:"pointsAdjust"},"è°ƒæ•´ç§¯åˆ†æ•°é‡ï¼š",-1)),r(t("input",{id:"pointsAdjust","onUpdate:modelValue":e[4]||(e[4]=s=>i.value=s),type:"number",placeholder:"è¾“å…¥ç§¯åˆ†æ•°é‡",step:"1"},null,512),[[u,i.value]])]),t("div",{class:"adjust-buttons"},[t("button",{class:"add-btn",onClick:k},"å¢åŠ ç§¯åˆ†"),t("button",{class:"subtract-btn",onClick:x},"å‡å°‘ç§¯åˆ†")])])]),t("div",O,[e[16]||(e[16]=t("h2",null,"å…‘æ¢é¡¹ç®¡ç†",-1)),t("div",Q,[(d(!0),l(A,null,$(E(a).exchangeItems,s=>(d(),l("div",{key:s.id,class:"exchange-item"},[t("div",W,[t("h3",null,_(s.name),1),t("p",null,_(s.description),1),t("div",X,"éœ€è¦ "+_(s.points)+" ç§¯åˆ†",1)]),t("div",Y,[t("button",{class:"edit-btn",onClick:c=>I(s)},"ç¼–è¾‘",8,Z),t("button",{class:"delete-btn",onClick:c=>y(s.id)},"åˆ é™¤",8,tt)])]))),128))]),t("div",et,[e[15]||(e[15]=t("h3",null,"æ·»åŠ æ–°å…‘æ¢é¡¹",-1)),t("div",st,[t("div",ot,[e[12]||(e[12]=t("label",{for:"newItemName"},"åç§°ï¼š",-1)),r(t("input",{id:"newItemName","onUpdate:modelValue":e[5]||(e[5]=s=>n.name=s),type:"text",placeholder:"è¾“å…¥åç§°"},null,512),[[u,n.name]])]),t("div",nt,[e[13]||(e[13]=t("label",{for:"newItemPoints"},"ç§¯åˆ†ï¼š",-1)),r(t("input",{id:"newItemPoints","onUpdate:modelValue":e[6]||(e[6]=s=>n.points=s),type:"number",placeholder:"è¾“å…¥ç§¯åˆ†æ•°é‡",step:"1"},null,512),[[u,n.points]])]),t("div",it,[e[14]||(e[14]=t("label",{for:"newItemDesc"},"æè¿°ï¼š",-1)),r(t("input",{id:"newItemDesc","onUpdate:modelValue":e[7]||(e[7]=s=>n.description=s),type:"text",placeholder:"è¾“å…¥æè¿°"},null,512),[[u,n.description]])])]),t("button",{class:"add-item-btn",onClick:N},"æ·»åŠ ")])])])])):(d(),l("div",F,[t("div",K,[e[8]||(e[8]=t("h2",null,"ğŸ”’ è¯·è¾“å…¥ç®¡ç†å¯†ç ",-1)),t("div",T,[r(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ",onKeyup:S(w,["enter"]),class:"password-input"},null,544),[[u,p.value]]),t("button",{onClick:w,class:"verify-btn"},"ç¡®è®¤")]),b.value?(d(),l("p",M,"å¯†ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼")):j("",!0)])]))]))}}),ut=D(at,[["__scopeId","data-v-8340871a"]]);export{ut as default};
